(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function s(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(t){if(t.ep)return;t.ep=!0;const r=s(t);fetch(t.href,r)}})();const o={cityName:document.getElementById("city-name"),temperature:document.getElementById("temp"),weatherIcon:document.getElementById("weather-icon"),dateTime:document.getElementById("date-time"),title:document.getElementById("title"),maxTemperature:document.getElementById("max-temp"),minTemperature:document.getElementById("min-temp"),humidity:document.getElementById("humidity"),cloudiness:document.getElementById("clouds"),windSpeed:document.getElementById("wind"),formData:document.getElementById("form-data"),loadingElement:document.getElementById("loading")},u="4bb0324851d437735c61dac4feb4c5e2",d="https://api.openweathermap.org/data/2.5/weather",p={Haze:"/assets/haze.svg",Fog:"/assets/haze.svg",Mist:"/assets/haze.svg",Clouds:"/assets/cloud.svg",Clear:"/assets/sun.svg",Rain:"/assets/rainy.svg",Thunderstorm:"/assets/thunder.svg",Snow:"/assets/icons/snow.svg",Drizzle:"/assets/drizzle-svgrepo-com.svg"};o.formData.addEventListener("submit",e=>{e.preventDefault();const n=e.target["search-input"].value.trim();n&&(h({city:n}),e.target["search-input"].value="")});const h=async e=>{const{lat:n,long:s,city:i}=e||{};g(!0);try{const t=i?`${d}?q=${i}&appid=${u}&units=metric`:`${d}?lat=${n}&lon=${s}&appid=${u}&units=metric`,r=await a(t);y(r)}catch(t){console.error("Error fetching weather data:",t.message)}finally{g(!1)}},a=async e=>{const n=await fetch(e);if(!n.ok)throw new Error("Failed to fetch data");return await n.json()},y=e=>{var n,s,i,t,r,c,m,l;o.cityName.innerText=(e==null?void 0:e.name)==="Sāmāir"?"Dhaka":e==null?void 0:e.name,o.temperature.innerText=`${Math.round((n=e==null?void 0:e.main)==null?void 0:n.temp)}°c`,o.dateTime.innerHTML=w(e==null?void 0:e.dt),o.title.innerHTML=E((s=e==null?void 0:e.weather[0])==null?void 0:s.main),o.maxTemperature.innerText=`${Math.round((i=e==null?void 0:e.main)==null?void 0:i.temp_max)}°c`,o.minTemperature.innerText=`${Math.round((t=e==null?void 0:e.main)==null?void 0:t.temp_min)}°c`,o.humidity.innerText=`${(r=e==null?void 0:e.main)==null?void 0:r.humidity}%`,o.cloudiness.innerText=`${(c=e==null?void 0:e.clouds)==null?void 0:c.all}%`,o.windSpeed.innerText=`${(m=e==null?void 0:e.wind)==null?void 0:m.speed} m/s`,o.weatherIcon.src=p[(l=e==null?void 0:e.weather[0])==null?void 0:l.main]||"/assets/cloud.svg"},g=e=>{e?(o.loadingElement.classList.remove("hidden"),o.loadingElement.classList.add("flex")):(o.loadingElement.classList.add("hidden"),o.loadingElement.classList.remove("flex"))},w=e=>{const n=f(e,"time"),s=f(e,"date");return`<p>${n} - ${s}</p>`},E=e=>`<p>The climate is <u class="text-orange-500">${e}</u></p>`;function f(e,n,s){if(!n)return e;e*=1e3;const i=new Date(e),t=n==="date"?{weekday:"long",year:"numeric",month:"long",day:"numeric"}:{hour:"numeric",minute:"numeric"};return new Intl.DateTimeFormat("en-us",t).format(i)}navigator.geolocation.getCurrentPosition(e=>{const{latitude:n,longitude:s}=e.coords;h({lat:n,long:s})});
