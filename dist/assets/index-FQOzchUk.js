(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function o(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(n){if(n.ep)return;n.ep=!0;const s=o(n);fetch(n.href,s)}})();const l={formData:document.getElementById("form-data"),loadingElement:document.getElementById("loading"),weatherIconElement:document.getElementById("weather-icon")};function i(e,t,o=!1){const r=document.getElementById(e);r&&(o?r.innerHTML=t:r.innerText=t)}const f="4bb0324851d437735c61dac4feb4c5e2",g="https://api.openweathermap.org/data/2.5/weather",d={Haze:"/assets/haze.svg",Fog:"/assets/haze.svg",Mist:"/assets/haze.svg",Clouds:"/assets/cloud.svg",Clear:"/assets/sun.svg",Rain:"/assets/rainy.svg",Thunderstorm:"/assets/thunder.svg",Snow:"/assets/icons/snow.svg",Drizzle:"/assets/drizzle-svgrepo-com.svg"};l.formData.addEventListener("submit",e=>{e.preventDefault();const t=e.target["search-input"].value.trim();t&&(a({city:t}),e.target["search-input"].value="")});const a=async e=>{const{lat:t,long:o,city:r}=e||{};h(!0);try{const n=r?`${g}?q=${r}&appid=${f}&units=metric`:`${g}?lat=${t}&lon=${o}&appid=${f}&units=metric`,s=await y(n);console.log(s),w(s)}catch(n){console.error("Error fetching weather data:",n.message)}finally{h(!1)}},y=async e=>{const t=await fetch(e);if(!t.ok)throw new Error("Failed to fetch data");return await t.json()},w=e=>{var t,o,r,n,s,c,m,u;i("city-name",(e==null?void 0:e.name)==="Sāmāir"?"Dhaka":e==null?void 0:e.name),i("temp",`${Math.round((t=e==null?void 0:e.main)==null?void 0:t.temp)}°c`),i("date-time",v(e==null?void 0:e.dt),!0),i("title",E((o=e==null?void 0:e.weather[0])==null?void 0:o.main),!0),i("max-temp",`${Math.round((r=e==null?void 0:e.main)==null?void 0:r.temp_max)}°c`),i("min-temp",`${Math.round((n=e==null?void 0:e.main)==null?void 0:n.temp_min)}°c`),i("humidity",`${(s=e==null?void 0:e.main)==null?void 0:s.humidity}%`),i("clouds",`${(c=e==null?void 0:e.clouds)==null?void 0:c.all}%`),i("wind",`${(m=e==null?void 0:e.wind)==null?void 0:m.speed} m/s`),l.weatherIconElement.src=d[(u=e==null?void 0:e.weather[0])==null?void 0:u.main]||"/assets/cloud.svg"},h=e=>{e?(l.loadingElement.classList.remove("hidden"),l.loadingElement.classList.add("flex")):(l.loadingElement.classList.add("hidden"),l.loadingElement.classList.remove("flex"))},v=e=>{const t=p(e,"time"),o=p(e,"date");return`<p>${t} - ${o}</p>`},E=e=>`<p>The climate is <u class="text-orange-500">${e}</u></p>`;function p(e,t,o){if(!t)return e;e*=1e3;const r=new Date(e),n=t==="date"?{weekday:"long",year:"numeric",month:"long",day:"numeric"}:{hour:"numeric",minute:"numeric"};return new Intl.DateTimeFormat("en-us",n).format(r)}navigator.geolocation.getCurrentPosition(e=>{const{latitude:t,longitude:o}=e.coords;a({lat:t,long:o})});
