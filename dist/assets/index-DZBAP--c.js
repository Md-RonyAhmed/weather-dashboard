(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function o(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(s){if(s.ep)return;s.ep=!0;const n=o(s);fetch(s.href,n)}})();const l={formData:document.getElementById("form-data"),loadingElement:document.getElementById("loading"),weatherIconElement:document.getElementById("weather-icon")};function i(e,t,o=!1){const r=document.getElementById(e);r&&(o?r.innerHTML=t:r.innerText=t)}const f="4bb0324851d437735c61dac4feb4c5e2",h="https://api.openweathermap.org/data/2.5/weather",w={Haze:"/assets/haze.svg",Fog:"/assets/haze.svg",Mist:"/assets/haze.svg",Clouds:"/assets/cloud.svg",Clear:"/assets/sun.svg",Rain:"/assets/rainy.svg",Thunderstorm:"/assets/thunder.svg",Snow:"/assets/icons/snow.svg",Drizzle:"/assets/drizzle-svgrepo-com.svg"},b={Haze:"/assets/backgrounds/mist.jpeg",Fog:"/assets/backgrounds/mist.jpeg",Mist:"/assets/backgrounds/mist.jpeg",Clouds:"/assets/backgrounds/clouds.png",Clear:"/assets/backgrounds/sunny.jpg",Rain:"/assets/backgrounds/rainy-day.jpg",Thunderstorm:"/assets/backgrounds/thunderstorm.jpg",Snow:"/assets/backgrounds/snow.jpg",Drizzle:"/assets/backgrounds/shower-rain.jpg"};l.formData.addEventListener("submit",e=>{e.preventDefault();const t=e.target["search-input"].value.trim();t&&(y({city:t}),e.target["search-input"].value="")});const y=async e=>{const{lat:t,long:o,city:r}=e||{};p(!0);try{const s=r?`${h}?q=${r}&appid=${f}&units=metric`:`${h}?lat=${t}&lon=${o}&appid=${f}&units=metric`,n=await v(s);console.log(n),E(n)}catch(s){console.error("Error fetching weather data:",s.message)}finally{p(!1)}},v=async e=>{const t=await fetch(e);if(!t.ok)throw new Error("Failed to fetch data");return await t.json()},E=e=>{var o,r,s,n,c,u,m,g,a;i("city-name",(e==null?void 0:e.name)==="Sāmāir"?"Dhaka":e==null?void 0:e.name),i("temp",`${Math.round((o=e==null?void 0:e.main)==null?void 0:o.temp)}°c`),i("date-time",$(e==null?void 0:e.dt),!0),i("title",L((r=e==null?void 0:e.weather[0])==null?void 0:r.main),!0),i("max-temp",`${Math.round((s=e==null?void 0:e.main)==null?void 0:s.temp_max)}°c`),i("min-temp",`${Math.round((n=e==null?void 0:e.main)==null?void 0:n.temp_min)}°c`),i("humidity",`${(c=e==null?void 0:e.main)==null?void 0:c.humidity}%`),i("clouds",`${(u=e==null?void 0:e.clouds)==null?void 0:u.all}%`),i("wind",`${(m=e==null?void 0:e.wind)==null?void 0:m.speed} m/s`),l.weatherIconElement.src=w[(g=e==null?void 0:e.weather[0])==null?void 0:g.main]||"/assets/cloud.svg";const t=(a=e==null?void 0:e.weather[0])==null?void 0:a.main;document.body.style.backgroundImage=`url('${b[t]||"/assets/backgrounds/clear-sky.jpg"}')`},p=e=>{e?(l.loadingElement.classList.remove("hidden"),l.loadingElement.classList.add("flex")):(l.loadingElement.classList.add("hidden"),l.loadingElement.classList.remove("flex"))},$=e=>{const t=d(e,"time"),o=d(e,"date");return`<p>${t} - ${o}</p>`},L=e=>`<p>The climate is <u class="text-orange-500">${e}</u></p>`;function d(e,t,o){if(!t)return e;e*=1e3;const r=new Date(e),s=t==="date"?{weekday:"long",year:"numeric",month:"long",day:"numeric"}:{hour:"numeric",minute:"numeric"};return new Intl.DateTimeFormat("en-us",s).format(r)}navigator.geolocation.getCurrentPosition(e=>{const{latitude:t,longitude:o}=e.coords;y({lat:t,long:o})});
